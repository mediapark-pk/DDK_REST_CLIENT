"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const modelType_1 = require("./modelType");
const array_1 = require("./array");
const types_1 = require("src/byte_serializer/types");
class BufferSet extends modelType_1.ModelType {
    constructor(typeElement) {
        super();
        this.typeId = types_1.BufferTypesId.BufferSet;
        this.typeElement = new array_1.BufferArray(typeElement);
    }
    getLength(data) {
        return this.length.type + this.typeElement.getLength([...data]);
    }
    read(buffer, offset) {
        offset += this.length.type;
        const result = this.typeElement.read(buffer, offset);
        return {
            value: new Set(result.value),
            offset: result.offset
        };
    }
    write(buffer, data, offset) {
        offset = this.writeTypeId(buffer, offset);
        return this.typeElement.write(buffer, [...data], offset);
    }
}
exports.BufferSet = BufferSet;
//# sourceMappingURL=set.js.map