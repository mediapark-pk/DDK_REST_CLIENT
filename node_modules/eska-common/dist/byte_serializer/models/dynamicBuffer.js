"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const modelType_1 = require("./modelType");
const types_1 = require("./../types");
class DynamicBuffer extends modelType_1.ModelType {
    getLength(buffer) {
        return buffer.length;
    }
    read(buffer, offset = 0) {
        const primitiveTypeId = buffer.readUInt8(offset);
        const Primitive = types_1.mapPrimitiveCode.get(primitiveTypeId);
        this.typeElement = new Primitive();
        const result = this.typeElement.read(buffer, offset);
        return {
            offset: result.offset,
            value: result.value
        };
    }
    write(buffer, object, offset) {
        object.copy(buffer, offset);
        return offset + object.length;
    }
}
exports.DynamicBuffer = DynamicBuffer;
//# sourceMappingURL=dynamicBuffer.js.map