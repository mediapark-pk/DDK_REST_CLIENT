!function(e){var t={};function o(s){if(t[s])return t[s].exports;var r=t[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(s,r,function(t){return e[t]}.bind(null,r));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=17)}([function(e,t){e.exports=require("express")},function(e,t,o){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(o(21)),n=o(22),i=o(4),a=o(27),c=o(28),d=o(29),u=o(8),l=o(31),p=o(32),y=o(5),h=o(34),f=o(44),_=o(45),g=o(47),m=o(14),b=o(50),v=o(51),O=o(52);t.blockchainService=new a.BlockchainService(i.blockchainRepository),t.systemService=new f.SystemService(i.systemRepository),t.accountService=new d.AccountService,t.webhookService=new u.WebhookService,t.transactionService=new h.TransactionCreator(n.slotService,r.default,t.accountService);const S=y.NODE_HOSTS.map(e=>_.initSocketIOClient(e.ip,e.port)).map(e=>new g.SocketIOClient(e)).map(e=>new b.Node(e));t.nodePool=new m.NodePool(S,O.nodeComparator),t.blockService=new c.BlockService(i.blockRepository,t.nodePool),t.transactionConfirmationService=new p.TransactionConfirmationService(i.transactionRepository,t.blockService,y.NUMBER_OF_CONFIRMATIONS),t.socketListenerManager=new v.SocketListenerManager(t.systemService,t.blockchainService,t.blockService,t.transactionConfirmationService,t.webhookService,i.transactionRepository,i.blockRepository,t.nodePool),l.configureWebhooks(t.webhookService)},function(e,t){e.exports=require("ddk.registry/dist/model/common/responseEntity")},function(e,t,o){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const n=s(o(58)),i=o(2),a=r(o(59)),c=o(9),d=new n.default({noTypeless:!0,noExtraKeywords:!0,noEmptyArrays:!0,noEmptyStrings:!0});if(!d.validateSchema(Object.values(a)))throw new Error("Invalid validation schema");t.validate=(e,t,o)=>{let s=o.value||o.get();return{value:(e,t)=>{const o=`${e.method} ${e.baseUrl}${e.route.path}`,r={...e.params,...e.query,...e.body};d.validate(r,o,(o,r)=>{if(r)return s.call(this,e,t);t.status(c.HTTP_STATUS.INTERNAL_SERVER_ERROR).send(new i.ResponseEntity({errors:["Invalid arguments",...o.map(e=>e.message)]}))})}}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(23),r=o(24),n=o(25),i=o(26);t.blockRepository=new s.BlockRepository,t.blockchainRepository=new r.BlockchainRepository,t.systemRepository=new i.SystemRepository,t.transactionRepository=new n.TransactionRepository},function(e,t,o){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const n=s(o(19)),i=r(o(20)),a=o(6);n.default.config();const c=i.WORKSPACE[process.env.WORKSPACE];if(!c)throw new Error(`[Config] Unknown workspace: ${process.env.WORKSPACE}`);if(t.ON_APPLY_TRANSACTION=process.env.ON_APPLY_TRANSACTION,t.ON_APPLY_BLOCK=process.env.ON_APPLY_BLOCK,t.ON_DECLINE_TRANSACTION=process.env.ON_DECLINE_TRANSACTION,t.NUMBER_OF_CONFIRMATIONS=Number(process.env.NUMBER_OF_CONFIRMATIONS)||a.DEFAULT_NUMBER_OF_CONFIRMATIONS,console.log(`[Config] Workspace: ${c}`),i.default.initialize(c),BigInt.prototype.toJSON=function(){return this.toString()},process.env.NODE_HOST||process.env.NODE_API_PORT){throw new Error("Please, update the list of nodes in .env file by instruction: https://github.com/AraiEzzra/DDK.REST.API.CLIENT/blob/master/docs/environment.md#ddk-node-hosts and remove NODE_HOST, NODE_API_PORT environments")}const d=process.env.NODE_HOSTS;if(!d)throw new Error("[Config] NODE_HOSTS is missing");console.log(`[Config] NODE_HOSTS: ${d}`),t.NODE_HOSTS=d.split(",").map(e=>{const t=e.split(":");return{ip:t[0],port:Number(t[1])}})},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_SSL_PORT=443,t.DEFAULT_SOCKET_TIMEOUT=2e3,t.DEFAULT_SOCKET_EVENT="message",t.DEFAULT_NUMBER_OF_CONFIRMATIONS=6},function(e,t){e.exports=require("ddk.registry/dist/util/crypto")},function(e,t,o){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(o(11));!function(e){e.APPLY_TRANSACTION="APPLY_TRANSACTION"}(t.WebhookAction||(t.WebhookAction={}));t.WebhookService=class{constructor(){this.actions=new Map}subscribe(e,t){this.actions.has(e)?this.actions.get(e).push(t):this.actions.set(e,[t])}unsubscribe(e,t){const o=this.actions.get(e);if(!o)return;const s=o.findIndex(e=>t===e);-1!==s&&o.splice(s,1)}on(e,t){this.actions.has(e)&&this.actions.get(e).forEach(e=>{r.default(e,{method:"post",body:JSON.stringify(t)})})}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR"}(t.HTTP_STATUS||(t.HTTP_STATUS={})),t.isValidURL=e=>{return null!==e.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/g)},t.parseUrls=e=>e?e.split(",").filter(e=>!!t.isValidURL(e)||(console.error(`[Error][extractUrls] url: ${e} is invalid`),!1)):[]},function(e,t){e.exports=require("ddk.registry/dist/util/account")},function(e,t){e.exports=require("node-fetch")},function(e,t){e.exports=require("ddk.registry/dist/model/common/transaction/type")},function(e,t){e.exports=require("ddk.registry/dist/model/transport/message")},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(2),r=o(49);var n;!function(e){e.repick="repick"}(n=t.NodePoolAction||(t.NodePoolAction={}));t.NodePool=class extends r.Emitter{constructor(e,t){super(),this.nodeSwitchHeightThreshold=3,this.initialPickTimeout=3e3,this.nodes=e,this.nodeComparator=t,this.onDisconnect=this.onDisconnect.bind(this),this.onApplyBlock=this.onApplyBlock.bind(this),this.init()}onApplyBlock(e){this.primary&&this.primary.height+this.nodeSwitchHeightThreshold<=e.height&&this.repickPrimary()}onDisconnect(e){this.primary&&e.socket.uri===this.primary.socket.uri&&this.repickPrimary()}init(){this.nodes.forEach(e=>e.socket.on("disconnect",t=>{this.onDisconnect(e)})),this.nodes.forEach(e=>e.socket.on("connect_timeout",t=>{this.onDisconnect(e)})),this.nodes.forEach(e=>{e.socket.addCodeListener("APPLY_BLOCK",this.onApplyBlock),e.socket.on("reconnect",()=>{e.socket.addCodeListener("APPLY_BLOCK",this.onApplyBlock)})}),setTimeout(()=>{this.primary||this.repickPrimary()},this.initialPickTimeout)}async send(e,t){if(!this.nodes.filter(e=>e.socket.isConnected).length)return new s.ResponseEntity({errors:["All nodes are disconnected. Please try again later."]});this.primary||(console.log("[NodePool][send] Primary node is missing. Repick"),this.repickPrimary()),console.log(t);const o=await this.primary.socket.send(e,t);return!o.success&&o.errors.filter(e=>e.toLowerCase().includes("timeout")).length?(this.repickPrimary(),this.send(e,t)):o}repickPrimary(){if(!this.primary||1!==this.nodes.length){if(!this.nodes.filter(e=>e.socket.isConnected).length)return console.log("[NodePool][repickPrimary] Skip, no active connections"),void(this.primary=void 0);this.primary&&this.primary.socket.removeCodeListeners(),this.nodes.sort(this.nodeComparator.compare),this.primary=this.nodes[0],console.log(`[NodePool][repickPrimary] Primary node changed to ${this.primary.socket.uri}`),this.emit(n.repick,this.primary)}}}},function(e,t){e.exports=require("ddk.registry/dist/util/validate/scheme/filter")},function(e,t){e.exports=require("ws")},function(e,t,o){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(o(0)),n=s(o(18));o(5),o(1);const i=o(55),a=o(69),c=o(71),d=o(74),u=o(76),l=o(78),p=o(80),y=o(82),h=o(84),f=o(85),_=r.default();_.use(n.default.json()),_.use(n.default.urlencoded({extended:!1})),_.use("/api/transactions",i.transactionRouter),_.use("/api/blocks",u.blockRouter),_.use("/api/accounts",a.accountRouter),_.use("/api/delegates",f.delegatesRouter),_.use("/api/utils",c.utilRouter),_.use("/api/webhook",d.webhookRouter),_.use("/api/blockchain",p.blockchainRouter),_.use("/api/system",l.systemRouter),_.use("/api/airdrop",y.airdropRouter),_.use("/api/asset",h.assetRouter),_.listen(process.env.SERVER_PORT,()=>{console.log(`[DDK][RestAPI] Listening on port ${process.env.SERVER_PORT}!`)})},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("dotenv")},function(e,t){e.exports=require("ddk.registry")},function(e,t){e.exports=require("eska-common/dist/time_service")},function(e,t){e.exports=require("ddk.registry/dist/service/slot")},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BlockRepository=class{constructor(){this.blocks=new Map,this.lastBlockHeight=0}add(e){this.blocks.has(e.id)||this.blocks.set(e.id,e)}get(e){return this.blocks.get(e)}has(e){return this.blocks.has(e)}remove(e){return this.blocks.delete(e)}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BlockchainRepository=class{constructor(){this.info={airdropBalance:0,totalSupply:0,circulatingSupply:0,tokenHolders:0,totalStakeAmount:0,totalStakeHolders:0,transactionsCount:0}}getInfo(){return this.info}updateInfo(e){this.info=e}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TransactionRepository=class{constructor(){this.transactions=new Map,this.add=this.add.bind(this),this.update=this.update.bind(this),this.get=this.get.bind(this),this.has=this.has.bind(this)}add(e){this.transactions.has(e.id)||this.transactions.set(e.id,e)}update(e){this.transactions.set(e.id,e)}get(e){return this.transactions.get(e)}has(e){return this.transactions.has(e)}remove(e){return this.transactions.delete(e)}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SystemRepository=class{constructor(){this.info={height:0,consensus:0,datetime:new Date,peersCount:0,peers:[],broadhash:"",version:"",transactionsCount:{queue:0,conflictedQueue:0,pool:0}}}getInfo(){return this.info}updateInfo(e){this.info=e}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BlockchainService=class{constructor(e){this.repository=e,this.onUpdateInfo=this.onUpdateInfo.bind(this)}onUpdateInfo(e){this.repository.updateInfo(e)}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.BlockService=class{constructor(e,t){this.repository=e,this.nodePool=t,this.onApplyBlock=this.onApplyBlock.bind(this)}onApplyBlock(e){this.repository.lastBlockHeight=e.height}add(e){this.repository.add(e)}async get(e){if(this.repository.has(e))return this.repository.get(e);const t=await this.nodePool.send("GET_BLOCK",{id:e});return t.success?t.data:null}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(7),r=o(10),n=o(30),i=o(2),a=o(1);t.AccountService=class{async fetchByAddress(e){const t=await a.nodePool.send("GET_ACCOUNT",{address:e});if(!t)return new i.ResponseEntity({errors:t.errors});const o=new n.Account({address:BigInt(t.data.address),publicKey:t.data.publicKey,secondPublicKey:t.data.secondPublicKey,referrals:t.data.referrals.map(e=>new n.Account({publicKey:"",address:BigInt(e)})),stakes:t.data.stakes,actualBalance:t.data.actualBalance});return new i.ResponseEntity({data:o})}async fetchByPublicKey(e){const t=r.getAddressByPublicKey(e);return this.fetchByAddress(t)}async fetchBySecret(e){const t=s.createKeyPairBySecret(e).publicKey.toString("hex");return this.fetchByPublicKey(t)}}},function(e,t){e.exports=require("ddk.registry/dist/model/common/account")},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(5),r=o(8),n=o(9);t.configureWebhooks=e=>{n.parseUrls(s.ON_APPLY_TRANSACTION).forEach(t=>{e.subscribe(r.WebhookAction.APPLY_TRANSACTION,t),console.log(`[Configurator][Webhook]: ON_APPLY_TRANSACTION: ${t}`)}),n.parseUrls(s.ON_APPLY_BLOCK).forEach(t=>{e.subscribe("APPLY_BLOCK",t),console.log(`[Configurator][Webhook]: ON_APPLY_BLOCK: ${t}`)}),n.parseUrls(s.ON_DECLINE_TRANSACTION).forEach(t=>{e.subscribe("DECLINE_TRANSACTION",t),console.log(`[Configurator][Webhook]: ON_DECLINE_TRANSACTION: ${t}`)})}},function(e,t,o){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(o(11)),n=o(33);t.TransactionConfirmationService=class{constructor(e,t,o,s=864e5){this.numberOfConfirmations=o,this.transactionRepository=e,this.blockService=t,this.unsubscribeTimeout=s,this.listeners=new Map,this.unsubscribe=this.unsubscribe.bind(this),this.onApplyBlock=this.onApplyBlock.bind(this)}notify(e,t){return r.default(e,{method:"post",body:JSON.stringify(t)})}subscribe(e){const t=n.setTimeout(()=>this.unsubscribe(e.transactionId),this.unsubscribeTimeout);this.listeners.has(e.transactionId)||this.listeners.set(e.transactionId,[]),this.listeners.get(e.transactionId).push({...e,unsubscribeTimeoutId:t})}unsubscribe(e){this.listeners.has(e)&&(this.listeners.get(e).forEach(e=>n.clearTimeout(e.unsubscribeTimeoutId)),this.listeners.delete(e))}async onApplyBlock(e){const t=[];for(const[o,s]of this.listeners.entries()){const r=this.transactionRepository.get(o);if(!r||!r.blockId)return;const n=await this.blockService.get(r.blockId);if(!n)return;if(n.height+this.numberOfConfirmations>e.height)return;r.confirmations=e.height-n.height,s.forEach(e=>this.notify(e.url,r)),t.push(o)}t.forEach(this.unsubscribe)}}},function(e,t){e.exports=require("timers")},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(12),r=o(35),n=o(36),i=o(37),a=o(38),c=o(39),d=o(40),u=o(2),l=o(41),p=o(42),y=o(43),h=o(4);t.TransactionCreator=class{constructor(e,t,o){this.slotService=e,this.timeService=t,this.accountService=o}createAsset(e,t){switch(e){case s.TransactionType.REFERRAL:const o={referral:BigInt(t.referral)};return new u.ResponseEntity({data:new r.AssetReferral(o)});case s.TransactionType.SEND:const l={recipientAddress:BigInt(t.recipientAddress),amount:t.amount};return new u.ResponseEntity({data:new n.AssetSend(l)});case s.TransactionType.SIGNATURE:const p={publicKey:t.publicKey};return new u.ResponseEntity({data:new c.AssetSignature(p)});case s.TransactionType.DELEGATE:const y={username:t.username};return new u.ResponseEntity({data:new i.AssetDelegate(y)});case s.TransactionType.STAKE:const h={amount:t.amount,startTime:t.startTime,airdropReward:t.airdropReward};return new u.ResponseEntity({data:new a.AssetStake(h)});case s.TransactionType.VOTE:const f={votes:t.votes,type:t.type,reward:t.reward,unstake:t.unstake,airdropReward:t.airdropReward};return new u.ResponseEntity({data:new d.AssetVote(f)});default:return new u.ResponseEntity({errors:["Unknown transaction type"]})}}async calculateAsset(e,t){switch(e.type){case s.TransactionType.STAKE:const o=p.createAssetStake({createdAt:e.createdAt||this.slotService.getTime(),amount:e.asset.amount},t,h.blockchainRepository.getInfo().airdropBalance);return new u.ResponseEntity({data:o});case s.TransactionType.VOTE:const r=l.createAssetVote({createdAt:e.createdAt||this.slotService.getTime(),type:e.asset.type,votes:e.asset.votes},t,h.blockRepository.lastBlockHeight,h.blockchainRepository.getInfo().airdropBalance);return new u.ResponseEntity({data:r});default:return this.createAsset(e.type,e.asset)}}async create(e,t,o){if(!e.createdAt){const t=await this.timeService.getTime();e.createdAt=this.slotService.getTime(t)}let r;switch(e.type){case s.TransactionType.STAKE:case s.TransactionType.VOTE:let o=await this.accountService.fetchBySecret(t);if(!o.success)return o;r=o.data}const n=await this.calculateAsset(e,r);return n.success?(e.asset=n.data,y.transactionCreator.create({data:e,sender:r,secret:t,secondSecret:o})):n}}},function(e,t){e.exports=require("ddk.registry/dist/model/common/transaction/asset/referral")},function(e,t){e.exports=require("ddk.registry/dist/model/common/transaction/asset/send")},function(e,t){e.exports=require("ddk.registry/dist/model/common/transaction/asset/delegate")},function(e,t){e.exports=require("ddk.registry/dist/model/common/transaction/asset/stake")},function(e,t){e.exports=require("ddk.registry/dist/model/common/transaction/asset/signature")},function(e,t){e.exports=require("ddk.registry/dist/model/common/transaction/asset/vote")},function(e,t){e.exports=require("ddk.registry/dist/service/transaction/vote")},function(e,t){e.exports=require("ddk.registry/dist/service/transaction/stake")},function(e,t){e.exports=require("ddk.registry/dist/service/transaction")},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SystemService=class{constructor(e){this.repository=e,this.onUpdateInfo=this.onUpdateInfo.bind(this)}onUpdateInfo(e){this.repository.updateInfo(e)}}},function(e,t,o){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(o(46)),n=o(6);t.initSocketIOClient=(e,t)=>{const o=t===n.DEFAULT_SSL_PORT?"wss":"ws";return console.log(`[Service][Socket] Connecting to ${o}://${e}:${t}`),r.default(`${o}://${e}:${t}`,{timeout:2e3,transports:["websocket"]})}},function(e,t){e.exports=require("socket.io-client")},function(e,t,o){"use strict";var s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const r=o(2),n=s(o(13)),i=o(48);t.SocketIOClient=class extends i.SocketClient{constructor(e,t,o){super(e,t,o);const s=()=>{e.sendBuffer=[]};e.on("connect",s),e.on("reconnect",s)}send(e,t){const o=new n.default(n.MessageType.REQUEST,e,t);return this.socket.emit(this.event,o),new Promise(e=>{const t=setTimeout(()=>{this.messageListeners.delete(o.headers.id),e(new r.ResponseEntity({errors:["Socket timeout"]}))},this.timeout);this.messageListeners.set(o.headers.id,o=>{clearTimeout(t),e(o)})})}get isConnected(){return this.socket.connected}get uri(){return this.socket.io.uri}}},function(e,t,o){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(o(13)),n=o(6);t.SocketClient=class{constructor(e,t=n.DEFAULT_SOCKET_EVENT,o=n.DEFAULT_SOCKET_TIMEOUT){this.socket=e,this.event=t,this.messageListeners=new Map,this.codeListeners=new Map,this.timeout=o,this.socket.on(this.event,e=>{const t=r.default.deserialize(e);this.messageListeners.has(t.getId())&&(this.messageListeners.get(t.getId())(t.getBody()),this.messageListeners.delete(t.getId())),this.codeListeners.has(t.code)&&this.codeListeners.get(t.code).forEach(e=>e(t.body))})}on(e,t){return this.socket.on(e,t)}emit(e,...t){return this.socket.emit(e,t)}getSocket(){return this.socket}addCodeListener(e,t){this.codeListeners.has(e)||this.codeListeners.set(e,[]),this.codeListeners.get(e).push(t)}removeCodeListener(e){this.codeListeners.has(e)&&this.codeListeners.delete(e)}removeCodeListeners(){for(const e of this.codeListeners.keys())this.removeCodeListener(e)}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Emitter=class{constructor(){this.listeners=new Map}on(e,t){return this.listeners.has(e)||this.listeners.set(e,[]),this.listeners.get(e).push(t),this}emit(e,...t){return this.listeners.has(e)&&this.listeners.get(e).forEach(e=>e(...t)),this}removeListener(e,t){return this.listeners.has(e)&&this.listeners.set(e,this.listeners.get(e).filter(e=>e!==t)),this}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Node=class{constructor(e){this.blockchain={height:0},this.socket=e,this.onApplyBlock=this.onApplyBlock.bind(this),this.onUndoBlock=this.onUndoBlock.bind(this),this.socket.addCodeListener("APPLY_BLOCK",this.onApplyBlock),this.socket.addCodeListener("UNDO_BLOCK",this.onUndoBlock),this.socket.on("reconnect",()=>{this.socket.addCodeListener("APPLY_BLOCK",this.onApplyBlock),this.socket.addCodeListener("UNDO_BLOCK",this.onUndoBlock)})}onApplyBlock(e){this.blockchain.height=e.height}onUndoBlock(e){this.blockchain.height=e.height-1}get height(){return this.blockchain.height}get isConnected(){return this.socket.isConnected}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(8),r=o(14);t.SocketListenerManager=class{constructor(e,t,o,s,n,i,a,c){this.systemService=e,this.blockchainService=t,this.blockService=o,this.transactionConfirmationService=s,this.webhookService=n,this.transactionRepository=i,this.blockRepository=a,this.addListeners=this.addListeners.bind(this),c.on(r.NodePoolAction.repick,e=>{this.addListeners(e.socket)})}addWebhookServiceListeners(e){e.addCodeListener("DECLINE_TRANSACTION",e=>{this.webhookService.on("DECLINE_TRANSACTION",e)}),e.addCodeListener("APPLY_BLOCK",e=>{this.webhookService.on("APPLY_BLOCK",e),e.transactions.forEach(e=>{this.webhookService.on(s.WebhookAction.APPLY_TRANSACTION,e)})})}addBlockServiceListeners(e){e.addCodeListener("APPLY_BLOCK",this.blockService.onApplyBlock)}addTransactionConfirmationServiceListeners(e){e.addCodeListener("APPLY_BLOCK",e=>this.transactionConfirmationService.onApplyBlock(e))}addSystemServiceListeners(e){e.addCodeListener("UPDATE_SYSTEM_INFO",this.systemService.onUpdateInfo)}addBlockchainServiceListeners(e){e.addCodeListener("UPDATE_BLOCKCHAIN_INFO",this.blockchainService.onUpdateInfo)}addListeners(e){this.addWebhookServiceListeners(e),this.addBlockServiceListeners(e),this.addTransactionConfirmationServiceListeners(e),this.addSystemServiceListeners(e),this.addBlockchainServiceListeners(e),e.addCodeListener("APPLY_BLOCK",e=>{e.transactions.forEach(e=>{this.transactionRepository.has(e.id)?this.transactionRepository.update(e):this.transactionRepository.add(e)})}),e.addCodeListener("APPLY_BLOCK",e=>{this.blockRepository.add(e)}),e.addCodeListener("UNDO_BLOCK",e=>{this.blockRepository.remove(e.id)}),e.addCodeListener("UNDO_BLOCK",e=>{e.transactions.forEach(e=>{this.transactionRepository.remove(e.id)})})}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(53),r=o(54);class n{constructor(e,t){this.connectComparator=e,this.heightDescComparator=t,this.compare=this.compare.bind(this)}compare(e,t){const o=this.connectComparator.compare(e,t);return o||this.heightDescComparator.compare(e,t)}}t.NodeComparator=n,t.nodeComparator=new n(s.nodeConnectComparator,r.nodeHeightDescComparator)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s{compare(e,t){return!e.isConnected&&t.isConnected?1:e.isConnected&&!t.isConnected?-1:0}}t.NodeConnectComparator=s,t.nodeConnectComparator=new s},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class s{constructor(e="ASC"){this.direction=e}compare(e,t){return e.height<t.height?"ASC"===this.direction?-1:1:e.height>t.height?"ASC"===this.direction?1:-1:0}}t.NodeHeightComparator=s,t.nodeHeightDescComparator=new s("DESC")},function(e,t,o){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(o(0)),n=o(56);t.transactionRouter=r.default.Router(),t.transactionRouter.post("/getMany",n.transactionController.getMany),t.transactionRouter.get("/:id",n.transactionController.getById),t.transactionRouter.post("/",n.transactionController.create)},function(e,t,o){"use strict";var s=this&&this.__decorate||function(e,t,o,s){var r,n=arguments.length,i=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,o):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(n<3?r(i):n>3?r(t,o,i):r(t,o))||i);return n>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(t,"__esModule",{value:!0});const r=o(57),n=o(1),i=o(3),a=o(1),c=o(4),d=o(9),u=o(16);class l{async getById(e,t){const o=await n.nodePool.send("GET_TRANSACTION",e.params);return o.success?o.data?t.send(o):t.status(d.HTTP_STATUS.NOT_FOUND).send(o):t.status(d.HTTP_STATUS.INTERNAL_SERVER_ERROR).send(o)}getMany(e,t){let o=e.body.limit,s=e.body.offset,r=null,n=null,i=null;if(e.body.sort&&(i=`"${(i=e.body.sort)[0][0]}","${i[0][1]}"`),o<=100&&s<=100){let e=new u("ws://185.244.248.16:4903/");e.on("open",function(){null!=i?e.send(`{"event":"message","data":{"code":"GET_TRANSACTIONS","headers":{"id":"652f52d3-b2c1-43be-9307-1e28bb9c5c66","type":"request"},"body":{"paginator":{"limit":10,"offset":0},"sort":[[${i}]]}}}`):e.send(`{"event":"message","data":{"code":"GET_TRANSACTIONS","headers":{"id":"652f52d3-b2c1-43be-9307-1e28bb9c5c66","type":"request"},"body":{"paginator":{"limit":${o},"offset":${s}}}}}`)}),e.on("message",function(o){return r=JSON.parse(o.toString()),n={success:!0,data:{transactions:r.data.body.data.data},count:r.data.body.data.totalCount},e.close(),t.send(n)})}else n={success:!1,errors:["Invalid arguments","Missing required property: offset","Missing required property: limit"]}}async create(e,t){const o={...e.body.transaction,asset:e.body.transaction.asset},s=await a.transactionService.create(o,e.body.secret,e.body.secondSecret);if(!s.success)return s;const i=r.transactionSerializer.serialize(s.data),d=await n.nodePool.send("CREATE_PREPARED_TRANSACTION",i);return d.success&&c.transactionRepository.add(s.data),t.send(d)}}s([i.validate],l.prototype,"getById",null),s([i.validate],l.prototype,"getMany",null),s([i.validate],l.prototype,"create",null),t.TransactionController=l,t.transactionController=new l},function(e,t){e.exports=require("ddk.registry/dist/util/serialize/transaction")},function(e,t){e.exports=require("ddk.registry/dist/util/validate")},function(e,t,o){"use strict";function s(e){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])}Object.defineProperty(t,"__esModule",{value:!0}),s(o(60)),s(o(61)),s(o(62)),s(o(64)),s(o(65)),s(o(66)),s(o(67)),s(o(68))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAccountScheme={id:"GET /api/accounts/:address",type:"object",properties:{address:{type:"string",format:"address"}},required:["address"]},t.getAccountBalanceScheme={id:"GET /api/accounts/:address/balance",type:"object",properties:{address:{type:"string",format:"address"}},required:["address"]},t.createAccountScheme={id:"POST /api/accounts/",type:"object",properties:{secret:{type:"string",format:"secret"}},required:["secret"]}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(12),r=o(15);t.getTransactionByIdScheme={id:"GET /api/transactions/:id",type:"object",properties:{id:{type:"string",format:"id"}},required:["id"]},t.getTransactionsScheme={id:"POST /api/transactions/getMany",type:"object",properties:{...r.PAGINATION_SCHEME},required:["limit","offset"]},t.createTransactionScheme={id:"POST /api/transactions/",type:"object",properties:{transaction:{type:"object",properties:{type:{type:"integer",enum:Object.values(s.TransactionType)},asset:{type:"object"}},required:["type","asset"]},secret:{type:"string",format:"secret"},secondSecret:{type:"string",format:"secret"}},required:["transaction","secret"]}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(63);t.getDelegates={id:"POST /api/delegates/",type:"object",properties:{username:{type:"string",minLength:3},sort:{type:"array",items:{type:"array",items:{type:"string",enum:["ASC","DESC","approval","publicKey","votes","username"]}}},...s.PAGINATION_SCHEME},required:["limit","offset"]},t.getActiveDelegates={id:"POST /api/delegates/activeDelegates",type:"object",properties:{limit:{type:"integer",minimum:1,maximum:100},offset:{type:"integer",minimum:0,maximum:1e3}},required:["limit","offset"]},t.getMyDelgates={id:"POST /api/delegates/myDelegates",type:"object",properties:{address:{type:"string",format:"address"},limit:{type:"integer",minimum:1,maximum:100},offset:{type:"integer",minimum:0,maximum:1e3}},required:["address","limit","offset"]}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PAGINATION_SCHEME={limit:{type:"integer",minimum:1,maximum:100},offset:{type:"integer",minimum:0,maximum:1e3}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onConfirmTransaction={id:"POST /api/webhook/subscribe/confirm-transaction",type:"object",properties:{transactionId:{type:"string",format:"id"},url:{type:"string"}},required:["url","transactionId"]}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(15);t.geBlockByIdScheme={id:"GET /api/blocks/:id",type:"object",properties:{id:{type:"string",format:"id"}},required:["id"]},t.getblocksScheme={id:"POST /api/blocks/getMany",type:"object",properties:{...s.PAGINATION_SCHEME},required:["limit","offset"]}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeKeyPair={id:"POST /api/utils/make-key-pair",type:"object",properties:{secret:{type:"string",format:"secret"}},required:["secret"]}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAirdropRewardHistory={id:"GET /api/airdrop/",type:"object",properties:{referralAddress:{type:"string",format:"address"},startTime:{type:"number"},endTime:{type:"number"}},required:["referralAddress","startTime","endTime"]},t.getAirdropRewardDailyHistory={id:"GET /api/airdrop/:referralAddress",type:"object",properties:{referralAddress:{type:"string",format:"address"}},required:["referralAddress"]}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createStakeAsset={id:"POST /api/asset/createStakeAsset",type:"object",properties:{address:{type:"string",format:"address"},amount:{type:"integer",minimum:1e8,maximum:45e14}},required:["address","amount"]},t.createVoteAsset={id:"POST /api/asset/createVoteAsset",type:"object",properties:{address:{type:"string",format:"address"},votes:{type:"array",items:{type:"string",format:"publicKey"},maxItems:3},type:{type:"string",enum:["+","-"]},createdAt:{type:"integer"}},required:["address","votes","type","createdAt"]}},function(e,t,o){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(o(0)),n=o(70);t.accountRouter=r.default.Router(),t.accountRouter.get("/:address",n.accountController.get),t.accountRouter.get("/:address/balance",n.accountController.getBalance),t.accountRouter.post("/",n.accountController.create)},function(e,t,o){"use strict";var s=this&&this.__decorate||function(e,t,o,s){var r,n=arguments.length,i=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,o):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(n<3?r(i):n>3?r(t,o,i):r(t,o))||i);return n>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(t,"__esModule",{value:!0});const r=o(7),n=o(10),i=o(2),a=o(3),c=o(1);class d{async create(e,t){const{secret:o}=e.body,s=r.createKeyPairBySecret(o).publicKey.toString("hex"),a=n.getAddressByPublicKey(s);return t.send(new i.ResponseEntity({data:{publicKey:s,address:a}}))}async get(e,t){const o=await c.nodePool.send("GET_ACCOUNT",e.params);return t.send(o)}async getBalance(e,t){const o=await c.nodePool.send("GET_ACCOUNT_BALANCE",e.params);return t.send(o)}}s([a.validate],d.prototype,"create",null),s([a.validate],d.prototype,"get",null),s([a.validate],d.prototype,"getBalance",null),t.AccountController=d,t.accountController=new d},function(e,t,o){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(o(0)),n=o(72);t.utilRouter=r.default.Router(),t.utilRouter.get("/generate-passphrase",n.utilController.generatePassphrase),t.utilRouter.post("/make-key-pair",n.utilController.makeKeyPair)},function(e,t,o){"use strict";var s=this&&this.__decorate||function(e,t,o,s){var r,n=arguments.length,i=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,o):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(n<3?r(i):n>3?r(t,o,i):r(t,o))||i);return n>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(t,"__esModule",{value:!0});const r=o(73),n=o(2),i=o(7);class a{generatePassphrase(e,t){const o=r.generatePassphrase(),s=new n.ResponseEntity({data:o});return t.send(s)}makeKeyPair(e,t){const{secret:o}=e.body,s=i.createKeyPairBySecret(o);return t.send({success:!0,data:{publicKey:s.publicKey.toString("hex"),privateKey:s.privateKey.toString("hex")}})}}s([o(3).validate],a.prototype,"makeKeyPair",null),t.UtilController=a,t.utilController=new a},function(e,t){e.exports=require("ddk.registry/dist/util/passphrase")},function(e,t,o){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(o(0)),n=o(75);t.webhookRouter=r.default.Router(),t.webhookRouter.post("/subscribe/confirm-transaction",n.webhookController.onConfirmTransaction)},function(e,t,o){"use strict";var s=this&&this.__decorate||function(e,t,o,s){var r,n=arguments.length,i=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,o):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(n<3?r(i):n>3?r(t,o,i):r(t,o))||i);return n>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(t,"__esModule",{value:!0});const r=o(1);class n{async onConfirmTransaction(e,t){return r.transactionConfirmationService.subscribe(e.body),t.send({success:!0})}}s([o(3).validate],n.prototype,"onConfirmTransaction",null),t.WebhookController=n,t.webhookController=new n},function(e,t,o){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(o(0)),n=o(77);t.blockRouter=r.default.Router(),t.blockRouter.post("/getMany",n.blockController.getMany),t.blockRouter.get("/last",n.blockController.getLast),t.blockRouter.get("/:id",n.blockController.getById)},function(e,t,o){"use strict";var s=this&&this.__decorate||function(e,t,o,s){var r,n=arguments.length,i=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,o):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(n<3?r(i):n>3?r(t,o,i):r(t,o))||i);return n>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(t,"__esModule",{value:!0});const r=o(3),n=o(1),i=o(16);class a{constructor(){this.getLast=this.getLast.bind(this)}async getById(e,t){const o=await n.nodePool.send("GET_BLOCK",e.params);return t.send(o)}getMany(e,t){let o=e.body.limit,s=e.body.offset,r=null,n=null,a=null;if(e.body.sort&&(a=`"${(a=e.body.sort)[0][0]}","${a[0][1]}"`),o<=100&&s<=100){let e=new i("ws://185.244.248.16:4903/");e.on("open",function(){null!=a?e.send(`{"event":"message","data":{"code":"GET_TRANSACTIONS","headers":{"id":"652f52d3-b2c1-43be-9307-1e28bb9c5c66","type":"request"},"body":{"paginator":{"limit":10,"offset":0},"sort":[[${a}]]}}}`):e.send(`{"event":"message","data":{"code":"GET_BLOCKS","headers":{"id":"3c5ec5a2-993c-41c8-b082-882bb69d5a16","type":"request"},"body":{"paginator":{"limit":${o},"offset":${s}},"sort":[["createdAt","desc"]]}}}`)}),e.on("message",function(o){return r=JSON.parse(o.toString()),n={success:!0,data:{blocks:r.data.body.data.data},count:r.data.body.data.totalCount},e.close(),t.send(n)})}else n={success:!1,errors:["Invalid arguments","Missing required property: offset","Missing required property: limit"]}}async getLast(e,t){const o=await n.nodePool.send("GET_LAST_BLOCK",{});return t.send(o)}}s([r.validate],a.prototype,"getById",null),s([r.validate],a.prototype,"getMany",null),t.BlockController=a,t.blockController=new a},function(e,t,o){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(o(0)),n=o(79);t.systemRouter=r.default.Router(),t.systemRouter.get("/info",n.systemController.getInfo),t.systemRouter.get("/getAccountHistory",n.systemController.getAccountHistory),t.systemRouter.get("/:id",n.systemController.getBlockHistory),t.systemRouter.get("/getUnconfirmedTransactionHistory",n.systemController.getAllUnconfirmedTransactions),t.systemRouter.get("/getTransactionHistiory",n.systemController.getTransactionHistory)},function(e,t,o){"use strict";var s=this&&this.__decorate||function(e,t,o,s){var r,n=arguments.length,i=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,o):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(n<3?r(i):n>3?r(t,o,i):r(t,o))||i);return n>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(t,"__esModule",{value:!0});const r=o(2),n=o(4),i=o(3),a=o(1);class c{getInfo(e,t){const o=n.systemRepository.getInfo();return t.send(new r.ResponseEntity({data:o}))}async getAccountHistory(e,t){const o=await a.nodePool.send("GET_ACCOUNT_HISTORY",e.body);return t.send(o)}async getBlockHistory(e,t){const o=await a.nodePool.send("GET_BLOCK_HISTORY",e.body);return t.send(o)}async getTransactionHistory(e,t){const o=await a.nodePool.send("GET_TRANSACTION_HISTORY",e.body);return t.send(o)}async getAllUnconfirmedTransactions(e,t){const o=await a.nodePool.send("GET_ALL_UNCONFIRMED_TRANSACTIONS",e.body);return t.send(o)}}s([i.validate],c.prototype,"getAccountHistory",null),s([i.validate],c.prototype,"getBlockHistory",null),s([i.validate],c.prototype,"getTransactionHistory",null),s([i.validate],c.prototype,"getAllUnconfirmedTransactions",null),t.SystemController=c,t.systemController=new c},function(e,t,o){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(o(0)),n=o(81);t.blockchainRouter=r.default.Router(),t.blockchainRouter.get("/info",n.blockchainController.getInfo),t.blockchainRouter.get("/circulatingSupply",n.blockchainController.getCirulatingSupply),t.blockchainRouter.get("/totalSupply",n.blockchainController.getTotalSupply)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(2),r=o(4);class n{getInfo(e,t){const o=r.blockchainRepository.getInfo();return t.send(new s.ResponseEntity({data:o}))}getCirulatingSupply(e,t){const o={success:!0,data:{circulatingSupply:r.blockchainRepository.getInfo().circulatingSupply}};return t.send(o)}getTotalSupply(e,t){const o={success:!0,data:{totalSupply:r.blockchainRepository.getInfo().totalSupply}};return t.send(o)}}t.BlockchainController=n,t.blockchainController=new n},function(e,t,o){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(o(0)),n=o(83);t.airdropRouter=r.default.Router(),t.airdropRouter.get("/",n.airdropHistoryController.getHistory),t.airdropRouter.get("/:referralAddress",n.airdropHistoryController.getAirdropDailyHistory)},function(e,t,o){"use strict";var s=this&&this.__decorate||function(e,t,o,s){var r,n=arguments.length,i=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,o):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(n<3?r(i):n>3?r(t,o,i):r(t,o))||i);return n>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(t,"__esModule",{value:!0});const r=o(1),n=o(3);class i{async getHistory(e,t){const o=await r.nodePool.send("GET_AIRDROP_REWARD_HISTORY",e.body);return t.send(o)}async getAirdropDailyHistory(e,t){console.log("data get",e.params);const o=await r.nodePool.send("GET_AIRDROP_REWARD_DAILY_HISTORY",e.params);return t.send(o)}}s([n.validate],i.prototype,"getHistory",null),s([n.validate],i.prototype,"getAirdropDailyHistory",null),t.AirdropHistoryController=i,t.airdropHistoryController=new i},function(e,t,o){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(o(0));t.assetRouter=r.default.Router()},function(e,t,o){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(o(0)),n=o(86);t.delegatesRouter=r.default.Router(),t.delegatesRouter.post("/",n.delegatesController.getDelegates),t.delegatesRouter.post("/activeDelegates",n.delegatesController.getActiveDelegates),t.delegatesRouter.post("/myDelegates",n.delegatesController.getMydelegates)},function(e,t,o){"use strict";var s=this&&this.__decorate||function(e,t,o,s){var r,n=arguments.length,i=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,o):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(n<3?r(i):n>3?r(t,o,i):r(t,o))||i);return n>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(t,"__esModule",{value:!0});const r=o(1),n=o(3);class i{async getDelegates(e,t){const o=await r.nodePool.send("GET_DELEGATES",e.body);return t.send(o)}async getActiveDelegates(e,t){const o=await r.nodePool.send("GET_ACTIVE_DELEGATES",e.body);return t.send(o)}async getMydelegates(e,t){const o=await r.nodePool.send("GET_MY_DELEGATES",e.body);return t.send(o)}}s([n.validate],i.prototype,"getDelegates",null),s([n.validate],i.prototype,"getActiveDelegates",null),s([n.validate],i.prototype,"getMydelegates",null),t.DelegatesController=i,t.delegatesController=new i}]);